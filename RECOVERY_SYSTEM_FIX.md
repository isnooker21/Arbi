# ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏°‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß

## üéØ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ú‡πà‡∏≤‡∏ô Config!)

### 1. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô `config/adaptive_params.json`** ‚úÖ

#### **Loss Thresholds** (‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô)
```json
"loss_thresholds": {
  "min_loss_threshold": -0.003,     // ‡∏•‡∏î‡∏à‡∏≤‡∏Å -0.05 ‚Üí -0.003 (0.3% ‡πÅ‡∏ó‡∏ô 5%)
  "min_loss_amount": -5.0,          // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô $5 ‡∏Å‡πá‡πÄ‡∏£‡∏¥‡πà‡∏° recovery
  "recovery_target": 0.0
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‡πÄ‡∏î‡∏¥‡∏°: ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô 5% ‡∏Ç‡∏≠‡∏á balance (~$500 ‡∏ñ‡πâ‡∏≤ balance $10k)
- ‡πÉ‡∏´‡∏°‡πà: **‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô‡πÅ‡∏Ñ‡πà 0.3% ‡∏´‡∏£‡∏∑‡∏≠ $5 ‡∏Å‡πá‡πÄ‡∏£‡∏¥‡πà‡∏° recovery ‡πÅ‡∏•‡πâ‡∏ß!** ‚úÖ

---

#### **Correlation Thresholds** (‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç Correlation)
```json
"correlation_thresholds": {
  "min_correlation": 0.6,           // ‡∏•‡∏î‡∏à‡∏≤‡∏Å 0.7 ‚Üí 0.6
  "max_correlation": 0.95,
  "optimal_correlation": 0.8
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‡πÄ‡∏î‡∏¥‡∏°: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ correlation >= 70%
- ‡πÉ‡∏´‡∏°‡πà: **correlation >= 60% ‡∏Å‡πá‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß** (‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô) ‚úÖ

---

#### **Timing** (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
```json
"timing": {
  "max_recovery_time_hours": 24,
  "recovery_check_interval_seconds": 10,  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  "cooldown_between_checks": 10,          // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: cooldown 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  "rebalancing_frequency_hours": 6
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‡πÄ‡∏î‡∏¥‡∏°: ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (hardcoded)
- ‡πÉ‡∏´‡∏°‡πà: **‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ** (‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 3 ‡πÄ‡∏ó‡πà‡∏≤!) ‚úÖ

---

#### **Diversification** (‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á)
```json
"diversification": {
  "max_usage_per_symbol": 3,        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 2 ‚Üí 3
  "enforce_limit": true
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‡πÄ‡∏î‡∏¥‡∏°: ‡πÉ‡∏ä‡πâ symbol ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‡πÉ‡∏´‡∏°‡πà: **‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á** (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô) ‚úÖ

---

#### **Auto Registration** (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
```json
"auto_registration": {
  "enabled": true,
  "register_on_startup": true,
  "register_on_new_orders": true,
  "sync_interval_seconds": 30
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- **‡∏£‡∏∞‡∏ö‡∏ö auto-register orders ‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥!** ‚úÖ

---

### 2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô `correlation_manager.py`** ‚úÖ

#### **‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Config** (Lines 196-213)
```python
# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å config:
'min_loss_amount': loss_thresholds.get('min_loss_amount', -5.0)  # NEW
'cooldown_between_checks': timing.get('cooldown_between_checks', 10)  # NEW
self.max_symbol_usage = diversification.get('max_usage_per_symbol', 3)  # NEW
```

---

#### **‡πÉ‡∏ä‡πâ Cooldown ‡∏à‡∏≤‡∏Å Config** (Lines 2213-2220)
```python
# ‡πÄ‡∏î‡∏¥‡∏°: hardcoded 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
if elapsed < 30:

# ‡πÉ‡∏´‡∏°‡πà: ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å config
cooldown = self.recovery_thresholds.get('cooldown_between_checks', 10)
if elapsed < cooldown:
```

---

#### **‡πÉ‡∏ä‡πâ Min Loss Amount ‡∏à‡∏≤‡∏Å Config** (Lines 2472-2476)
```python
# ‡πÄ‡∏î‡∏¥‡∏°: hardcoded -10.0
min_loss_amount = -10.0

# ‡πÉ‡∏´‡∏°‡πà: ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å config
min_loss_amount = self.recovery_thresholds.get('min_loss_amount', -5.0)
```

---

#### **Auto-Register Orders ‡πÉ‡∏´‡∏°‡πà** (Lines 2783-2817) üÜï
```python
def _auto_register_new_orders(self):
    """Auto-register any new orders that aren't in tracker yet"""
    # ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ô check_recovery_positions() ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
    # ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ order ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ register ‚Üí register ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!
```

---

#### **Retry Connection ‡∏ñ‡πâ‡∏≤ MT5 ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Connect** (Lines 2848-2858) üÜï
```python
# ‡∏ñ‡πâ‡∏≤ MT5 ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ connect
if not self.broker.is_connected():
    self.broker.connect()  # ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏° connect ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
    if self.broker.is_connected():
        # ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô orders ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!
```

---

#### **Enhanced Logging** (Lines 2494-2500, 2557-2565) üÜï
```python
# Log ‡πÄ‡∏°‡∏∑‡πà‡∏≠ order ‡∏û‡∏£‡πâ‡∏≠‡∏° recovery:
"‚úÖ {ticket}_{symbol}: READY FOR RECOVERY!"
"   üí∞ Loss: ${profit} (X% of balance)"
"   ‚úì Loss % check: pass"
"   ‚úì Loss $ check: pass"

# Log ‡πÄ‡∏°‡∏∑‡πà‡∏≠ recovery ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:
"‚úÖ RECOVERY EXECUTED SUCCESSFULLY"
"   Original: {ticket}_{symbol} (${loss})"
"   Recovery: {recovery_symbol}"
"   üìä Tracker: X hedged, Y pending"
```

---

#### **Periodic Stats Logging** (Lines 2235-2243) üÜï
```python
# ‡∏ó‡∏∏‡∏Å 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏™‡∏î‡∏á:
"üìä Order Tracker: X total, Y need recovery, Z hedged"
```

---

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô-‡∏´‡∏•‡∏±‡∏á

| ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ | ‡πÄ‡∏î‡∏¥‡∏° | ‡πÉ‡∏´‡∏°‡πà | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
|--------|------|------|---------|
| **Min Loss %** | -5% | **-0.3%** | ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 16x! ‚úÖ |
| **Min Loss $** | -$10 | **-$5** | ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô 2x! ‚úÖ |
| **Min Correlation** | 70% | **60%** | ‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô! ‚úÖ |
| **Check Interval** | 30s | **10s** | ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 3x! ‚úÖ |
| **Max Symbol Usage** | 2 | **3** | ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô! ‚úÖ |
| **Auto-Register** | ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ | **‚úÖ ‡∏°‡∏µ** | Orders ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î! ‚úÖ |
| **Retry Connection** | ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ | **‚úÖ ‡∏°‡∏µ** | Robust ‡∏Ç‡∏∂‡πâ‡∏ô! ‚úÖ |
| **Detailed Logging** | ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô | **‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏Å** | Debug ‡∏á‡πà‡∏≤‡∏¢! ‚úÖ |

---

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà

```
1. ‚úÖ System Start
   ‚Üì
2. ‚úÖ Load config ‡∏à‡∏≤‡∏Å adaptive_params.json
   ‚Üì  
3. ‚úÖ Show config summary (loss threshold, cooldown, etc.)
   ‚Üì
4. ‚úÖ MT5 Connect (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ connect ‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡πà‡∏≠)
   ‚Üì
5. ‚úÖ Register existing orders (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô orders ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà)
   ‚Üì
6. üîÑ Loop ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÅ‡∏ó‡∏ô 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ):
   ‚îÇ
   ‚îú‚îÄ 6.1 ‚úÖ Sync ‡∏Å‡∏±‡∏ö MT5 (‡∏•‡∏ö orders ‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î)
   ‚îÇ
   ‚îú‚îÄ 6.2 ‚úÖ Auto-register orders ‡πÉ‡∏´‡∏°‡πà (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
   ‚îÇ
   ‚îú‚îÄ 6.3 ‚úÖ Get orders needing recovery
   ‚îÇ
   ‚îú‚îÄ 6.4 ‚úÖ Check conditions (‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô):
   ‚îÇ      ‚Ä¢ ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô >= 0.3% OR >= $5 ‚úÖ
   ‚îÇ      ‚Ä¢ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà recovery order ‚úÖ
   ‚îÇ      ‚Ä¢ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ hedge ‚úÖ
   ‚îÇ
   ‚îú‚îÄ 6.5 ‚úÖ Find correlation pairs (>= 60% ‡∏Å‡πá‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ)
   ‚îÇ
   ‚îú‚îÄ 6.6 ‚úÖ Execute recovery
   ‚îÇ
   ‚îî‚îÄ 6.7 ‚úÖ Register recovery order ‚Üí Mark original as HEDGED
```

---

## üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### Scenario 1: Order ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô $7

**‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô):**
```
Balance: $10,000
Order ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô: -$7
Loss %: -0.07% ‚ùå (‡∏ï‡πâ‡∏≠‡∏á -5% = -$500)
Loss $: -$7 ‚ùå (‡∏ï‡πâ‡∏≠‡∏á >= -$10)
‚Üí ‡πÑ‡∏°‡πà recovery!
```

**‡πÉ‡∏´‡∏°‡πà (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô!):**
```
Balance: $10,000
Order ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô: -$7
Loss %: -0.07% ‚úÖ (‡∏ï‡πâ‡∏≠‡∏á >= -0.3%)
Loss $: -$7 ‚úÖ (‡∏ï‡πâ‡∏≠‡∏á >= -$5)
‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏° recovery ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ! üöÄ
```

---

### Scenario 2: Order ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ô

**‡πÄ‡∏î‡∏¥‡∏°:**
```
1. User ‡πÄ‡∏õ‡∏¥‡∏î order ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô MT5
2. ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å order ‡∏ô‡∏µ‡πâ
3. Order ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ recovery ‚ùå
```

**‡πÉ‡∏´‡∏°‡πà:**
```
1. User ‡πÄ‡∏õ‡∏¥‡∏î order ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô MT5
2. ‡∏´‡∏•‡∏±‡∏á 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí auto-register order ‚úÖ
3. Order ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô ‚Üí recovery ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ! ‚úÖ
```

---

### Scenario 3: ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏Ñ‡∏π‡πà correlation ‡πÑ‡∏î‡πâ

**‡πÄ‡∏î‡∏¥‡∏°:**
```
Min correlation: 70%
‚Üí ‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏¢‡∏≤‡∏Å ‚ùå
```

**‡πÉ‡∏´‡∏°‡πà:**
```
Min correlation: 60%
‚Üí ‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô 40%! ‚úÖ
```

---

## üîç ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### 1. ‡∏î‡∏π Config ‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:
```
============================================================
‚úÖ RECOVERY CONFIG LOADED
============================================================
üìä Correlation: 60.0% - 95.0%
üí∞ Loss Threshold: 0.300% of balance OR $5.0
‚è±Ô∏è  Cooldown: 10s between checks
üì¶ Hedge Ratio: 0.7 - 1.3
üéØ Max Symbol Usage: 3 times
üìè Base Lot Size: 0.05
============================================================
```

### 2. ‡∏î‡∏π‡∏Å‡∏≤‡∏£ Register Orders

```
üîß REGISTERING EXISTING ORDERS IN TRACKER
üìä Found X positions in MT5
‚úÖ Registered: {ticket}_{symbol} ($X.XX) in {group_id}
üìä Registration complete: X registered, Y already tracked
```

### 3. ‡∏î‡∏π‡∏Å‡∏≤‡∏£ Auto-Register (‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)

```
üÜï Auto-registered new order: {ticket}_{symbol} ($X.XX)
‚úÖ Auto-registered X new orders
```

### 4. ‡∏î‡∏π Order Tracker Stats (‡∏ó‡∏∏‡∏Å‡∏ô‡∏≤‡∏ó‡∏µ)

```
üìä Order Tracker: 5 total, 2 need recovery, 3 hedged
```

### 5. ‡∏î‡∏π‡πÄ‡∏°‡∏∑‡πà‡∏≠ Order ‡∏û‡∏£‡πâ‡∏≠‡∏° Recovery

```
‚úÖ 123456_EURUSD: READY FOR RECOVERY!
   üí∞ Loss: $-7.50 (0.075% of balance)
   ‚úì Loss % check: 0.075% <= 0.300%
   ‚úì Loss $ check: $-7.50 <= $-5.0
   ‚úì Not hedged: True
   ‚úì Not recovery order: True
```

### 6. ‡∏î‡∏π‡πÄ‡∏°‡∏∑‡πà‡∏≠ Recovery ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

```
============================================================
‚úÖ RECOVERY EXECUTED SUCCESSFULLY
   Original: 123456_EURUSD ($-7.50)
   Recovery: GBPUSD
   Correlation: 0.85
   üìä Tracker: 1 hedged, 1 pending
============================================================
```

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á

### ‚úÖ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ:

1. **‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç Recovery ‡πÄ‡∏Ç‡πâ‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ** ‚Üí ‡∏•‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0.3% ‡∏´‡∏£‡∏∑‡∏≠ $5
2. **‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ** ‚Üí ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 3 ‡πÄ‡∏ó‡πà‡∏≤ (30s ‚Üí 10s)
3. **Orders ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ register** ‚Üí Auto-register ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
4. **MT5 ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ connect ‡∏ï‡∏≠‡∏ô startup** ‚Üí Retry connection
5. **‡πÑ‡∏°‡πà‡∏°‡∏µ logging ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠** ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° detailed logs
6. **Config hardcoded** ‚Üí ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å config ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î!

---

### üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:

‚úÖ **Recovery ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô** - ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô‡πÅ‡∏Ñ‡πà $5 ‡∏Å‡πá‡πÄ‡∏£‡∏¥‡πà‡∏°  
‚úÖ **‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô** - Correlation 60% ‡∏Å‡πá‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ  
‚úÖ **‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î Orders** - Auto-register ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ  
‚úÖ **Robust** - Retry connection ‡∏ñ‡πâ‡∏≤ MT5 ‡∏Ç‡∏≤‡∏î  
‚úÖ **Debug ‡∏á‡πà‡∏≤‡∏¢** - Logs ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô  
‚úÖ **Config-driven** - ‡πÅ‡∏Å‡πâ‡πÅ‡∏Ñ‡πà config ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î  

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Config (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

‡πÅ‡∏Å‡πâ‡πÉ‡∏ô `config/adaptive_params.json`:

```json
// ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ recovery ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ?
"min_loss_amount": -3.0  // ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô $3 ‡∏Å‡πá‡πÄ‡∏£‡∏¥‡πà‡∏°

// ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ö‡πà‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ?
"cooldown_between_checks": 5  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

// ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ correlation ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ?
"min_correlation": 0.5  // 50% ‡∏Å‡πá‡πÑ‡∏î‡πâ
```

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏•‡∏¢! ‡πÅ‡∏Ñ‡πà‡πÅ‡∏Å‡πâ config ‡πÅ‡∏•‡πâ‡∏ß restart** ‚úÖ

---

### ‡∏£‡∏±‡∏ô Test Recovery

```python
# ‡πÉ‡∏ô Python console ‡∏´‡∏£‡∏∑‡∏≠ GUI
correlation_manager.test_recovery_system()

# ‡∏à‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö:
# 1. Register orders
# 2. ‡∏´‡∏≤ losing positions
# 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö recovery conditions
# 4. ‡πÅ‡∏™‡∏î‡∏á detailed logs
```

---

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Stats

```python
stats = correlation_manager.order_tracker.get_statistics()
print(f"Total: {stats['total_tracked_orders']}")
print(f"Need Recovery: {stats['not_hedged_orders']}")
print(f"Hedged: {stats['hedged_orders']}")

# ‡∏ñ‡πâ‡∏≤ total = 0 ‚Üí orders ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ register!
# ‡∏ñ‡πâ‡∏≤ not_hedged = 0 ‚Üí ‡∏ó‡∏∏‡∏Å order hedge ‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ order ‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô
```

---

## ‚úÖ ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

- ‚úÖ Config ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß (adaptive_params.json)
- ‚úÖ Code ‡∏≠‡πà‡∏≤‡∏ô config ‡πÅ‡∏•‡πâ‡∏ß (correlation_manager.py)
- ‚úÖ Auto-register ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‚úÖ Retry connection ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‚úÖ Detailed logging ‡∏û‡∏£‡πâ‡∏≠‡∏°
- ‚úÖ No syntax errors
- ‚úÖ No linter errors

---

## üéâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!

‡∏£‡∏∞‡∏ö‡∏ö recovery ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ:

- üöÄ **‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 3 ‡πÄ‡∏ó‡πà‡∏≤** (10s ‡πÅ‡∏ó‡∏ô 30s)
- üí™ **‡πÑ‡∏ß‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô** ($5 ‡πÅ‡∏ó‡∏ô $10)
- üéØ **‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô** (60% ‡πÅ‡∏ó‡∏ô 70%)
- üîÑ **‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î orders ‡πÉ‡∏´‡∏°‡πà** (auto-register)
- üõ°Ô∏è **Robust** (retry connection)
- üìù **Debug ‡∏á‡πà‡∏≤‡∏¢** (logs ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)

**‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô Config! ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ!** ‚ú®

---

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà**: 2025-09-30  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**: ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô  
**‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**: ‡∏£‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏±‡∏ö MT5 ‡∏à‡∏£‡∏¥‡∏á  

*‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß! ‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏î‡∏π logs ‡∏Ñ‡∏£‡∏±‡∏ö* üöÄ
